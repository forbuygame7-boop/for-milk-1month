<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Milk</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <h1 id="headline">Loading...</h1>
        
        <div class="timer-box">
            <p>‡πÄ‡∏£‡∏≤‡∏Ñ‡∏ö‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß:</p>
            <h2 id="timer">0 ‡∏ß‡∏±‡∏ô 0 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</h2>
        </div>

        <div class="interactive-area">
            <button id="heartButton" class="heart-btn">‚ù§Ô∏è ‡∏Å‡∏î‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡∏à‡∏¥</button>
            <p id="messageDisplay" class="fade-in">...</p>
        </div>
        
        <footer id="footerText"></footer>
        
        <div style="margin-top: 25px; display: flex; flex-direction: column; gap: 15px;">
            <a href="letter.html" style="text-decoration: none; color: #ff4d4d; border: 1px solid #ff4d4d; padding: 10px 20px; border-radius: 20px; display: inline-block;">
                ‚úâÔ∏è ‡πÄ‡∏õ‡∏¥‡∏î‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏±‡∏ö (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏¥‡πâ‡∏ß)
            </a>
            
            <button id="galleryBtn" style="background: #ff4d4d; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; font-family: 'Sarabun', sans-serif; font-size: 1rem; border: 1px solid #ff4d4d;">
                üì∏ ‡∏î‡∏π‡∏£‡∏π‡∏õ‡∏Ñ‡∏π‡πà‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤
            </button>

            <button id="missionBtn" style="background: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; font-family: 'Sarabun', sans-serif; font-size: 1rem; border: 1px solid #28a745; display: flex; align-items: center; justify-content: center; gap: 5px;">
                üöÄ ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
            </button>
            
        </div>
    </div>

    <div id="heart-hunt-container"></div>
    <div id="flash-message-container"></div>

    <div id="cat-container">
        <div id="naughty-cat-body">
            <div class="cat-ear left"></div>
            <div class="cat-ear right"></div>
            <div class="cat-eye left"></div>
            <div class="cat-eye right"></div>
            <div class="cat-nose"></div>
            <div class="cat-tail"></div>
            <div class="cat-leg front"></div>
            <div class="cat-leg back"></div>
        </div>
        <div id="cat-speech" class="hidden">‡∏´‡πâ‡∏≤‡∏°‡∏à‡∏±‡∏ö! üòº</div>
    </div>

    <div id="mission-modal" class="modal hidden">
        <div class="modal-content" style="background: linear-gradient(to bottom, #e8f5e9, #ffffff);">
            <span id="closeMission" class="close-btn">&times;</span>
            <h2 style="color: #2e7d32;">üöÄ ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</h2>
            <p style="font-size: 14px; color: #666;">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏°‡∏µ‡πÑ‡∏ß‡πâ‡∏û‡∏∏‡πà‡∏á‡∏ä‡∏ô... ‡πÅ‡∏ï‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏°‡∏µ‡πÑ‡∏ß‡πâ‡∏ä‡∏ô‡πÄ‡∏ò‡∏≠ ‡∏Æ‡∏¥‡πâ‡∏ß‡∏ß~</p>
            
            <div id="mission-grid" class="mission-container">
                <p>Loading...</p>
            </div>
        </div>
    </div>
    
    <div id="gallery-modal" class="modal hidden">
        <div class="modal-content">
            <span id="closeGallery" class="close-btn">&times;</span>
            <h2>üì∏ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</h2>
            
            <div class="polaroid-grid">
                <div class="polaroid-item rotate-left">
                    <img src="uploads/3ea3e7dc-8b14-4e33-af38-9d4aab88efc2.jpg" alt="Photo 1">
                    <p>‡∏Å‡∏¥‡∏ô‡πÄ‡∏ï‡∏µ‡πã‡∏¢‡∏ß‡∏ß</p>
                </div>
                <div class="polaroid-item rotate-right">
                    <img src="uploads/04a2f1a0-99d2-4864-91f8-c91d3b6280c1.jpg" alt="Photo 2">
                    <p>‡∏°‡∏¥‡πâ‡∏ß‡∏™‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡πÇ‡∏•‡∏Å‡∏Å</p>
                </div>
                <div class="polaroid-item rotate-left">
                    <img src="uploads/1768581316_3a5b7ab0-fad4-49af-8619-2a88901f536d.jpg" alt="Photo 3">
                    <p>‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏Å‡∏±‡∏ô</p>
                </div>
                <div class="polaroid-item rotate-right">
                    <img src="uploads/2a413912-9f48-470d-94eb-425f32586571.jpg" alt="Photo 4">
                    <p>‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á With Milk</p>
                </div>
                <div class="polaroid-item rotate-left">
                    <img src="uploads/d2ba1074-52de-4938-97f4-ef2950019849.jpg" alt="Photo 5">
                    <p>@ Milk House</p>
                </div>
                <div class="polaroid-item rotate-right">
                    <img src="uploads\0a55d3d9-5bac-490b-bb58-424a048c53a6.jpg" alt="Photo 4">
                    <p>‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡πÇ‡∏•‡∏Å‡∏Å‡∏Å</p>
                </div>
                <div class="polaroid-item rotate-left">
                    <img src="uploads\83a9f1a2-e784-4555-bb11-301ea64d53b8.jpg" alt="Photo 4">
                    <p>‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ß‡∏±‡∏î With Milk Fam</p>
                </div>
                <div class="polaroid-item rotate-right">
                    <img src="uploads\802c82fa-399c-4402-9e2f-acd51480fb33.jpg" alt="Photo 4">
                    <p>‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡πÑ‡∏î‡πâ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤</p>
                </div>
            </div>
        </div>
    </div>

    <div id="music-widget" class="music-widget">
        <div class="vinyl-record" onclick="toggleMusic()">
            <img id="music-cover" src="https://static.vecteezy.com/system/resources/previews/009/428/325/non_2x/3d-social-media-icons-music-free-png.png" alt="Music">
        </div>
        <div class="music-controls">
            <div class="song-info">
                <span id="song-name">üéµ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏û‡∏•‡∏á...</span>
            </div>
        </div>
        
        <div id="youtube-player-container">
            <div id="youtube-player"></div>
        </div>
    </div>

    <style>
        .music-widget {
            position: fixed; bottom: 20px; left: 20px; z-index: 9999;
            display: flex; align-items: center; gap: 10px;
            font-family: 'Sarabun', sans-serif;
        }
        .vinyl-record {
            width: 60px; height: 60px; background: #333;
            border-radius: 50%; border: 4px solid #fff;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3); cursor: pointer;
            position: relative; display: flex;
            justify-content: center; align-items: center;
            transition: transform 0.2s; animation: none;
        }
        .vinyl-record:hover { transform: scale(1.1); }
        .vinyl-record img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; }
        .spinning { animation: spin 3s linear infinite !important; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        .music-controls {
            background: rgba(255, 255, 255, 0.9); padding: 8px 15px;
            border-radius: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-width: 150px; white-space: nowrap; overflow: hidden; display: none;
        }
        .song-info span {
            display: inline-block; animation: marquee 5s linear infinite;
            color: #ff4d4d; font-weight: bold; font-size: 14px;
        }
        @keyframes marquee { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }
        
        /* ‡∏ã‡πà‡∏≠‡∏ô YouTube 100% */
        #youtube-player-container {
            position: fixed; top: 0; left: 0;
            width: 1px; height: 1px; opacity: 0;
            pointer-events: none; z-index: -100;
            visibility: hidden;
        }
    </style>

    <script>
        const YOUTUBE_VIDEO_ID = "qngCJf9V6g8"; // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏•‡∏á Canon in D (Piano) ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏Å‡πà‡∏≤‡∏≠‡∏≤‡∏à‡πÇ‡∏î‡∏ô‡∏ö‡∏•‡πá‡∏≠‡∏Å
        const SONG_NAME = "üéµ ‡πÄ‡∏û‡∏•‡∏á: ‡∏£‡∏ß‡∏°‡πÄ‡∏û‡∏•‡∏á‡∏£‡∏±‡∏Å"; 

        let player;
        let isPlaying = false;
        const vinyl = document.querySelector('.vinyl-record');
        const info = document.querySelector('.music-controls');
        const nameLabel = document.getElementById('song-name');

        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '200', width: '200', videoId: YOUTUBE_VIDEO_ID,
                playerVars: { 'playsinline': 1, 'controls': 0, 'loop': 1, 'playlist': YOUTUBE_VIDEO_ID },
                events: { 'onReady': onPlayerReady }
            });
        }
        function onPlayerReady(event) {
            nameLabel.innerText = SONG_NAME;
            event.target.setVolume(70);
        }
        function toggleMusic() {
            if (!player || !player.playVideo) return;
            if (isPlaying) {
                player.pauseVideo();
                vinyl.classList.remove('spinning');
                info.style.display = 'none';
            } else {
                player.playVideo();
                vinyl.classList.add('spinning');
                info.style.display = 'block';
            }
            isPlaying = !isPlaying;
        }
        setTimeout(() => {
            const heartBtn = document.getElementById('heartButton');
            if(heartBtn) heartBtn.addEventListener('click', () => { if(!isPlaying && player) toggleMusic(); });
        }, 1000);
    </script>

    <script type="module" src="config.js"></script> 
    <script src="brain.js"></script> 
    <script type="module" src="script.js"></script> 
    <script type="module" src="chat-core.js"></script>


</body>
</html>


